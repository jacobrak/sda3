#| output: false
#| echo: false
# Denna chunk ska innehålla alla paket ni använder
library(remotes)
library(SUdatasets)
library(plotly)
library(mvtnorm)
library(tidyverse)
library(reshape2)
# Read df
df<-read.delim("doctorvisits.txt",sep =" ")
# Max_numvisit varje visit har en break
max_numvisit = max(df$numvisit)
hist(df$numvisit, col = "brown", breaks= max_numvisit)
hist(df$age, col = "pink", breaks= 30)
# Maxlength_educ varje educ har break använde round för att runda
maxlength_educ <- round(max(df$educ))
hist(df$educ, col = "brown", breaks= maxlength_educ)
hist(df$loginc, col = "pink", breaks= 30)
# Correlation matrix
corr_matrix <- cor(df[sapply(df, is.numeric)])
# tidyplot behöver long format använde melt()
corr_matrix_melt <- melt(corr_matrix)
# Heat map
ggplot(corr_matrix_melt, aes(x = Var1, y= Var2, fill=value)) +
geom_tile() + scale_fill_gradient2(
low = "white",
mid = "brown",
high = "red",
midpoint = 0.5,
name = "Correlation"
) +
ggtitle("Correlation matrix") +
labs(x= NULL, y = NULL)
df_loginc = df[, c(1,2)]
df_loginc = df[, c(1,2)]
View(df_loginc)
